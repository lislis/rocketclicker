import{_ as V,u as b,s as E,r as G,j as x,c as o,b as e,k as m,t as u,g as n,F as T,l as A,p as I,d as J,w as d,i as N,o as l,m as $}from"./index.js";const c=i=>(I("data-v-7f750821"),i=i(),J(),i),B={class:"admin-wrapper"},F=c(()=>e("h1",null,"Admin area",-1)),R={class:"game"},D=c(()=>e("h2",null,"Game state",-1)),L={key:0},O=c(()=>e("hr",{class:"spacer"},null,-1)),P=c(()=>e("h3",null,"Rocket jump value",-1)),U=["value"],H={class:"clicks"},q=c(()=>e("h2",null,"Clicks given",-1)),z={class:"users"},K={key:0,class:"tag"},M={__name:"AdminView",setup(i){const h=b(),{getGame:a,getUsers:g,getClicks:v,me:f,getJumpVal:k}=E(h),{newGame:j,rmGame:y}=h,r=N("apiEndpoint"),_=G(x(k.value));function S(){d(`${r}/games`,"POST",null).then(t=>t.json()).then(t=>j(t))}function w(){d(`${r}/games`,"DELETE",null).then(t=>t.json()).then(t=>y())}function C(t){let p={jump_value:t.target.value};console.log(p),d(`${r}/games/${a.value._id}`,"PATCH",JSON.stringify(p)).then(s=>s.json()).then(s=>{a.value.jump_value=s.jump_value,_.value=s.jump_value,console.log(t.target.value,s.jump_value)})}return(t,p)=>(l(),o("div",B,[F,e("section",R,[D,e("div",null,[e("pre",null,u(n(a)),1)]),e("div",null,[e("button",{type:"button",onClick:S},"Start game"),n(a)?(l(),o("button",{key:0,type:"button",onClick:w},"Stop game")):m("",!0)]),n(a)&&n(a).jump_value?(l(),o("div",L,[O,P,e("input",{value:_.value,type:"range",min:"0.5",max:"5",step:"0.1",onChange:C,class:"range"},null,40,U),e("p",null,u(_.value),1)])):m("",!0)]),e("section",H,[q,e("div",null,u(n(v).length),1)]),e("section",z,[e("h2",null,"Users online ("+u(n(g).length)+")",1),e("ul",null,[(l(!0),o(T,null,A(n(g),s=>(l(),o("li",null,[$(u(s.name)+" ",1),s._id==n(f)._id?(l(),o("span",K,"me")):m("",!0)]))),256))])])]))}},W=V(M,[["__scopeId","data-v-7f750821"]]);export{W as default};
