import{_ as C,u as V,s as E,r as G,j as x,c as o,b as e,k as r,t as u,g as s,F as T,l as A,p as I,d as J,w as m,i as N,o as l,m as $}from"./index.js";const c=i=>(I("data-v-e0e2b331"),i=i(),J(),i),B={class:"admin-wrapper"},F=c(()=>e("h1",null,"Admin area",-1)),R={class:"game"},D=c(()=>e("h2",null,"Game state",-1)),L={key:0},O=c(()=>e("hr",{class:"spacer"},null,-1)),P=c(()=>e("h3",null,"Rocket jump value",-1)),U=["value"],H={class:"clicks"},q=c(()=>e("h2",null,"Clicks given",-1)),z={class:"users"},K={key:0,class:"tag"},M={__name:"AdminView",setup(i){const d=V(),{getGame:n,getUsers:h,getClicks:g,me:v,getJumpVal:j}=E(d),{newGame:k,rmGame:f}=d,_=N("apiEndpoint"),y=G(x(j.value));function S(){m(`${_}/games`,"POST",null).then(t=>t.json()).then(t=>k(t))}function b(){m(`${_}/games`,"DELETE",null).then(t=>t.json()).then(t=>f())}function w(t){let p={jump_value:t.target.value};console.log(p),m(`${_}/games/${n.value._id}`,"PATCH",JSON.stringify(p)).then(a=>a.json()).then(a=>{n.value.jump_value=a.jump_value,y.value=a.jump_value,console.log(t.target.value,a.jump_value)})}return(t,p)=>(l(),o("div",B,[F,e("section",R,[D,e("div",null,[e("pre",null,u(s(n)),1)]),e("div",null,[e("button",{type:"button",onClick:S},"Start game"),s(n)?(l(),o("button",{key:0,type:"button",onClick:b},"Stop game")):r("",!0)]),s(n)&&s(n).jump_value?(l(),o("div",L,[O,P,e("input",{value:s(n).jump_value,type:"range",min:"0.5",max:"5",step:"0.1",onChange:w,class:"range"},null,40,U),e("p",null,u(s(n).jump_value),1)])):r("",!0)]),e("section",H,[q,e("div",null,u(s(g).length),1)]),e("section",z,[e("h2",null,"Users online ("+u(s(h).length)+")",1),e("ul",null,[(l(!0),o(T,null,A(s(h),a=>(l(),o("li",null,[$(u(a.name)+" ",1),a._id==s(v)._id?(l(),o("span",K,"me")):r("",!0)]))),256))])])]))}},W=C(M,[["__scopeId","data-v-e0e2b331"]]);export{W as default};
